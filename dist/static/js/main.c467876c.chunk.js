(this.webpackJsonpReChatApp=this.webpackJsonpReChatApp||[]).push([[0],{16:function(e,t,a){e.exports=a(28)},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=(a(9),a(7)),l=a.n(o),u=a(13),s=a(3),p=a(1),m=a.n(p),d=(a(22),a(26),a(14)),h=a(15);m.a.initializeApp({apiKey:"AIzaSyBQGJ2K0y-CiSW56M5CKtQ3BSVwDrRR1YM",authDomain:"rogasper-rechatapp.firebaseapp.com",databaseURL:"https://rogasper-rechatapp.firebaseio.com",projectId:"rogasper-rechatapp",storageBucket:"rogasper-rechatapp.appspot.com",messagingSenderId:"168580904089",appId:"1:168580904089:web:cfa63c5956371ea8377408",measurementId:"G-3C406Z6Q08"});var f=m.a.auth(),g=m.a.firestore();function b(){return r.a.createElement("button",{className:"sign-in",onClick:function(){var e=new m.a.auth.GoogleAuthProvider;f.signInWithPopup(e)}},"Sign in with Google")}function E(){return f.currentUser&&r.a.createElement("button",{onClick:function(){return f.signOut()}},"Sign Out")}function v(){var e=g.collection("messages"),t=e.orderBy("createdAt").limitToLast(25),a=Object(h.a)(t,{idField:"id"}),c=Object(s.a)(a,1)[0],i=Object(n.useState)(""),o=Object(s.a)(i,2),p=o[0],d=o[1],b=function(){var t=Object(u.a)(l.a.mark((function t(a){var n,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=f.currentUser,r=n.uid,c=n.photoURL,t.next=4,e.add({text:p,createdAt:m.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:c});case 4:d("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=Object(n.useRef)();return Object(n.useEffect)((function(){E.current.scrollIntoView({behavior:"smooth"})}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,c&&c.map((function(e){return r.a.createElement(O,{key:e.id,message:e})})),r.a.createElement("span",{ref:E})),r.a.createElement("form",{onSubmit:b},r.a.createElement("input",{value:p,onChange:function(e){return d(e.target.value)},placeholder:"Katakan Halo"}),r.a.createElement("button",{type:"submit",disabled:!p},"Kirim")))}function O(e){var t=e.message,a=t.text,n=t.uid,c=t.photoURL,i=n===f.currentUser.uid?"sent":"received";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message ".concat(i)},r.a.createElement("img",{src:c||"https://api.adorable.io/avatars/23/abott@adorable.png"}),r.a.createElement("p",null,a)))}var R=function(){var e=Object(d.a)(f),t=Object(s.a)(e,1)[0];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"Rechat App"),r.a.createElement(E,null)),r.a.createElement("section",null,t?r.a.createElement(v,null):r.a.createElement(b,null),t?"":r.a.createElement("p",{className:"credit"},"Aplikasi Chat by ",r.a.createElement("a",{href:"https://instagram.com/rogasper",target:"_blank"},"Rogasper"))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))},9:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.c467876c.chunk.js.map